<!DOCTYPE html>
<html>
<head>
<title>Уличная жизнь магов</title>
<style>
.container {
text-align: center;
}

.button {
padding: 10px 20px;
margin: 10px;
border-radius: 5px;
background-color: #4CAF50;
color: white;
text-decoration: none;
}

.battle-actions {
display: flex;
justify-content: center;
margin-top: 20px;
}

.battle-actions button {
margin: 0 5px;
}
</style>
</head>
<body>
<div class="container">
<h1>Уличная жизнь магов</h1>

<div id="character-selection">
<h2>Выберите мага:</h2>
<button class="button" onclick="selectMage('Маг 1')">Маг 1</button>
<button class="button" onclick="selectMage('Маг 2')">Маг 2</button>
</div>

<div id="battle" style="display: none;">
<h2>Битва</h2>
<p id="player-health">Здоровье мага: 10</p>
<p id="enemy-health">Здоровье противника: 10</p>

<div class="battle-actions">
<button class="button" onclick="attack()">Атака</button>
<button class="button" onclick="defend()">Защита</button>
<button class="button" onclick="prepareAttack()">Подготовить атаку</button>
</div>
</div>

<script>
let playerHealth = 10;
let enemyHealth = 10;
let currentPlayer;
let isPlayerTurn = true;

function selectMage(mage) {
currentPlayer = mage;
document.getElementById("character-selection").style.display = "none";
document.getElementById("battle").style.display = "block";
}

function attack() {
if (isPlayerTurn) {
enemyHealth -= 2;
document.getElementById("enemy-health").innerHTML = `Здоровье противника: ${enemyHealth}`;
} else {
playerHealth -= 2;
document.getElementById("player-health").innerHTML = `Здоровье мага: ${playerHealth}`;
}
endTurn();
}

function defend() {
if (!isPlayerTurn) {
playerHealth = 10;
document.getElementById("player-health").innerHTML = `Здоровье мага: ${playerHealth}`;
}
endTurn();
}

function prepareAttack() {
if (isPlayerTurn) {
playerAttack = 2;
document.getElementById("player-health").innerHTML = `Здоровье мага: ${playerHealth}`;
}
endTurn();
}

function enemyTurn() {
const randomAction = Math.floor(Math.random() * 3);
switch (randomAction) {
case 0:
playerHealth -= 2;
document.getElementById("player-health").innerHTML = `Здоровье мага: ${playerHealth}`;
break;
case 1:
playerHealth = 10;
document.getElementById("player-health").innerHTML = `Здоровье мага: ${playerHealth}`;
break;
case 2:
enemyAttack = 2;
document.getElementById("enemy-health").innerHTML = `Здоровье противника: ${enemyHealth}`;
break;
}
endTurn();
}

function endTurn() {
if (playerHealth <= 0) {
alert("Вы проиграли!");
window.location.reload();
} else if (enemyHealth <= 0) {
alert("Вы победили!");
window.location.reload();
} else {
isPlayerTurn = !isPlayerTurn;
if (isPlayerTurn) {
setTimeout(() => {
enemyTurn();
}, 1000);
}
}
}
</script>
</div>
</body>
</html>
